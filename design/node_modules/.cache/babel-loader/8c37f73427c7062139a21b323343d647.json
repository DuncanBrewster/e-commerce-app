{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\dunca\\\\Documents\\\\VSCODE\\\\e-commerce-app\\\\design\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\dunca\\\\Documents\\\\VSCODE\\\\e-commerce-app\\\\design\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\dunca\\\\Documents\\\\VSCODE\\\\e-commerce-app\\\\design\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20,_templateObject21,_templateObject22,_templateObject23,_templateObject24,_templateObject25,_templateObject26,_templateObject27,_templateObject28,_templateObject29;import _regeneratorRuntime from\"C:\\\\Users\\\\dunca\\\\Documents\\\\VSCODE\\\\e-commerce-app\\\\design\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Add,Remove}from\"@material-ui/icons\";import React,{useEffect,useState}from\"react\";import styled from\"styled-components\";import Announcement from\"../components/Announcement\";import Footer from\"../components/Footer\";import Navbar from\"../components/Navbar\";import{mobile}from\"../responsive\";import{useSelector}from\"react-redux\";import StripeCheckout from\"react-stripe-checkout\";import{userRequest}from\"../requestMethods\";import{useHistory}from\"react-router-dom\";import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\"])));var Wrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    padding: 20px;\\n    \",\"\\n\"])),mobile({padding:\"10px\"}));var Title=styled.h1(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    font-weight: 300;\\n    text-align: center;\\n\"])));var Top=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 20px;\\n\"])));var TopButton=styled.button(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    padding: 10px;\\n    font-weight: 600;\\n    cursor: pointer;\\n    border: \",\";\\n    background-color: \",\";\\n    color: \",\";\\n\"])),function(props){return props.type===\"filled\"&&\"none\";},function(props){return props.type===\"filled\"?\"black\":\"transparent\";},function(props){return props.type===\"filled\"&&\"white\";});var TopTexts=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    \",\"\\n\"])),mobile({display:\"none\"}));var TopText=styled.span(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    text-decoration: underline;\\n    cursor: pointer;\\n    margin: 0px 10px;\\n\"])));var Bottom=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: space-between;\\n    \",\"\\n\"])),mobile({flexDirection:\"column\"}));var Info=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n    flex: 3;\\n\"])));var Product=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: space-between;\\n    \",\"\\n\"])),mobile({flexDirection:\"column\"}));var ProductDetail=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n    flex: 2;\\n    display: flex;\\n\"])));var Image=styled.img(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n    width: 200px;\\n\"])));var Details=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n    padding: 20px;\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: space-around;\\n\"])));var ProductName=styled.span(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\"])));var ProductID=styled.span(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\"])));var ProductColor=styled.div(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n    width: 20px;\\n    height: 20px;\\n    border-radius: 50%;\\n    background-color: \",\";\\n\"])),function(props){return props.color;});var ProductSize=styled.span(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\"])));var PriceDetail=styled.div(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n    flex: 1;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center;\\n\"])));var ProductAmountContainer=styled.div(_templateObject19||(_templateObject19=_taggedTemplateLiteral([\"\\n    display: flex;\\n    align-items: center;\\n    margin-bottom: 20px;\\n\"])));var Icon=styled.div(_templateObject20||(_templateObject20=_taggedTemplateLiteral([\"\\n    cursor: pointer;\\n\"])));var ProductAmount=styled.div(_templateObject21||(_templateObject21=_taggedTemplateLiteral([\"\\n    font-size: 24px;\\n    margin: 5px;\\n    \",\"\\n\"])),mobile({margin:\"5px 15px\"}));var ProductPrice=styled.div(_templateObject22||(_templateObject22=_taggedTemplateLiteral([\"\\n    font-size: 30px;\\n    font-weight: 200;\\n    \",\"\\n\"])),mobile({marginBottom:\"15px\"}));var Hr=styled.hr(_templateObject23||(_templateObject23=_taggedTemplateLiteral([\"\\n    background-color: #eee;\\n    border: none;\\n    height: 1px;\\n\"])));var Summary=styled.div(_templateObject24||(_templateObject24=_taggedTemplateLiteral([\"\\n    flex: 1;\\n    border: 0.5px solid lightgray; \\n    border-radius: 10px;\\n    padding: 20px;\\n    height: 50vh;\\n\"])));var SummaryTitle=styled.h1(_templateObject25||(_templateObject25=_taggedTemplateLiteral([\"\\n    font-weight: 200;\\n\"])));var SummaryItem=styled.div(_templateObject26||(_templateObject26=_taggedTemplateLiteral([\"\\n    margin: 30px 0px;\\n    display: flex;\\n    justify-content: space-between;\\n    font-weight: \",\";\\n    font-size: \",\";\\n\"])),function(props){return props.type===\"total\"&&\"500\";},function(props){return props.type===\"total\"&&\"24px\";});var SummaryItemText=styled.span(_templateObject27||(_templateObject27=_taggedTemplateLiteral([\"\"])));var SummaryItemPrice=styled.span(_templateObject28||(_templateObject28=_taggedTemplateLiteral([\"\"])));var Button=styled.button(_templateObject29||(_templateObject29=_taggedTemplateLiteral([\"\\n    cursor: pointer;\\n    width: 100%;\\n    padding: 10px;\\n    background-color: black;\\n    color: white;\\n    font-weight: 600;\\n\"])));var Cart=function Cart(){var cart=useSelector(function(state){return state.cart;});var _useState=useState(null),_useState2=_slicedToArray(_useState,2),stripeToken=_useState2[0],setStripeToken=_useState2[1];var history=useHistory();var quantity=useSelector(function(state){return state.cart.quantity;});var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),product=_useState4[0],setProduct=_useState4[1];var onToken=function onToken(token){setStripeToken(token);};useEffect(function(){var makeRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return userRequest.post(\"/checkout/payment\",{tokenId:stripeToken.id,amount:500});case 3:res=_context.sent;history.push(\"/success\",{stripeData:res.data,products:cart});_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function makeRequest(){return _ref.apply(this,arguments);};}();stripeToken&&makeRequest();},[stripeToken,cart.total,history]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Announcement,{}),/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(Title,{children:\"YOUR BAG\"}),/*#__PURE__*/_jsxs(Top,{children:[/*#__PURE__*/_jsx(Link,{link:true,to:\"/\",children:/*#__PURE__*/_jsx(TopButton,{children:\"CONTINUE SHOPPING\"})}),/*#__PURE__*/_jsxs(TopTexts,{children:[/*#__PURE__*/_jsxs(TopText,{children:[\"Shopping Bag (\",quantity,\")\"]}),/*#__PURE__*/_jsx(TopText,{children:\"Your Wish List (0)\"})]}),/*#__PURE__*/_jsx(StripeCheckout,{name:\"Dressemir\",image:\"https://www.clipartmax.com/png/middle/274-2745566_image-jacket-clipart-transparent-background.png\",billingAddress:true,shippingAddress:true,description:\"Your total is $\".concat(cart.total),amount:cart.total*100,token:onToken,stripeKey:\"pk_test_51K4wKHHYFW1OSpjXbRrXhm89TET1tapEOgsqKWRfEDMiVmo4TYRKDz2TTm6YrepOKMhajN7YCTlyAwjjD9TRjLMS00pwMMzpjI\",children:/*#__PURE__*/_jsx(TopButton,{type:\"filled\",children:\"CHECKOUT NOW\"})})]}),/*#__PURE__*/_jsxs(Bottom,{children:[/*#__PURE__*/_jsxs(Info,{children:[cart.products.map(function(product){return/*#__PURE__*/_jsxs(Product,{children:[/*#__PURE__*/_jsxs(ProductDetail,{children:[/*#__PURE__*/_jsx(Image,{src:product.img}),/*#__PURE__*/_jsxs(Details,{children:[/*#__PURE__*/_jsxs(ProductName,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Product:\"}),\" \",product.title,\" \"]}),/*#__PURE__*/_jsxs(ProductID,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"ID:\"}),\" \",product._id,\" \"]}),/*#__PURE__*/_jsx(ProductColor,{color:product.color}),/*#__PURE__*/_jsxs(ProductSize,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Size:\"}),\" \",product.size,\" \"]})]})]}),/*#__PURE__*/_jsxs(PriceDetail,{children:[/*#__PURE__*/_jsxs(ProductAmountContainer,{children:[/*#__PURE__*/_jsx(Icon,{children:/*#__PURE__*/_jsx(Remove,{})}),/*#__PURE__*/_jsx(ProductAmount,{children:product.quantity}),/*#__PURE__*/_jsx(Icon,{children:/*#__PURE__*/_jsx(Add,{})})]}),/*#__PURE__*/_jsxs(ProductPrice,{children:[\"$ \",product.price*product.quantity,\" \"]})]})]});}),/*#__PURE__*/_jsx(Hr,{})]}),/*#__PURE__*/_jsxs(Summary,{children:[/*#__PURE__*/_jsx(SummaryTitle,{children:\" ORDER SUMMARY\"}),/*#__PURE__*/_jsxs(SummaryItem,{children:[/*#__PURE__*/_jsx(SummaryItemText,{children:\"Subtotal\"}),/*#__PURE__*/_jsxs(SummaryItemPrice,{children:[\"$ \",cart.total]})]}),/*#__PURE__*/_jsxs(SummaryItem,{children:[/*#__PURE__*/_jsx(SummaryItemText,{children:\"Estimate Shipping\"}),/*#__PURE__*/_jsx(SummaryItemPrice,{children:\"$ 5.99\"})]}),/*#__PURE__*/_jsxs(SummaryItem,{children:[/*#__PURE__*/_jsx(SummaryItemText,{children:\"Shipping Discount\"}),/*#__PURE__*/_jsx(SummaryItemPrice,{children:\"-$ 5.99\"})]}),/*#__PURE__*/_jsxs(SummaryItem,{type:\"total\",children:[/*#__PURE__*/_jsx(SummaryItemText,{children:\"Total\"}),/*#__PURE__*/_jsxs(SummaryItemPrice,{children:[\"$ \",cart.total]})]}),/*#__PURE__*/_jsx(StripeCheckout,{name:\"Dressemir\",image:\"https://www.clipartmax.com/png/middle/274-2745566_image-jacket-clipart-transparent-background.png\",billingAddress:true,shippingAddress:true,description:\"Your total is $\".concat(cart.total),amount:cart.total*100,token:onToken,stripeKey:\"pk_test_51K4wKHHYFW1OSpjXbRrXhm89TET1tapEOgsqKWRfEDMiVmo4TYRKDz2TTm6YrepOKMhajN7YCTlyAwjjD9TRjLMS00pwMMzpjI\",children:/*#__PURE__*/_jsx(Button,{children:\"CHECKOUT NOW\"})})]})]})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default Cart;","map":{"version":3,"sources":["C:/Users/dunca/Documents/VSCODE/e-commerce-app/design/src/pages/Cart.jsx"],"names":["Add","Remove","React","useEffect","useState","styled","Announcement","Footer","Navbar","mobile","useSelector","StripeCheckout","userRequest","useHistory","Link","Container","div","Wrapper","padding","Title","h1","Top","TopButton","button","props","type","TopTexts","display","TopText","span","Bottom","flexDirection","Info","Product","ProductDetail","Image","img","Details","ProductName","ProductID","ProductColor","color","ProductSize","PriceDetail","ProductAmountContainer","Icon","ProductAmount","margin","ProductPrice","marginBottom","Hr","hr","Summary","SummaryTitle","SummaryItem","SummaryItemText","SummaryItemPrice","Button","Cart","cart","state","stripeToken","setStripeToken","history","quantity","product","setProduct","onToken","token","makeRequest","post","tokenId","id","amount","res","push","stripeData","data","products","total","map","title","_id","size","price"],"mappings":"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","sourcesContent":["import { Add, Remove } from \"@material-ui/icons\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Announcement from \"../components/Announcement\";\r\nimport Footer from \"../components/Footer\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport { mobile } from \"../responsive\";\r\nimport { useSelector } from \"react-redux\";\r\nimport StripeCheckout from \"react-stripe-checkout\";\r\nimport { userRequest } from \"../requestMethods\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst Container = styled.div``;\r\n\r\nconst Wrapper = styled.div`\r\n    padding: 20px;\r\n    ${mobile({ padding: \"10px\" })}\r\n`;\r\nconst Title = styled.h1`\r\n    font-weight: 300;\r\n    text-align: center;\r\n`;\r\nconst Top = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 20px;\r\n`;\r\nconst TopButton = styled.button`\r\n    padding: 10px;\r\n    font-weight: 600;\r\n    cursor: pointer;\r\n    border: ${props => props.type === \"filled\" && \"none\"};\r\n    background-color: ${props => props.type === \"filled\" ? \"black\" : \"transparent\"};\r\n    color: ${(props) => props.type === \"filled\" && \"white\"};\r\n`;\r\n\r\nconst TopTexts = styled.div`\r\n    ${mobile({ display: \"none\" })}\r\n`;\r\nconst TopText = styled.span`\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    margin: 0px 10px;\r\n`;\r\n\r\n\r\nconst Bottom = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    ${mobile({ flexDirection: \"column\" })}\r\n`;\r\n\r\nconst Info = styled.div`\r\n    flex: 3;\r\n`;\r\n\r\nconst Product = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    ${mobile({ flexDirection: \"column\" })}\r\n`;\r\n\r\nconst ProductDetail = styled.div`\r\n    flex: 2;\r\n    display: flex;\r\n`;\r\nconst Image = styled.img`\r\n    width: 200px;\r\n`;\r\nconst Details = styled.div`\r\n    padding: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n`;\r\n\r\nconst ProductName = styled.span``;\r\n\r\nconst ProductID = styled.span``;\r\n\r\nconst ProductColor = styled.div`\r\n    width: 20px;\r\n    height: 20px;\r\n    border-radius: 50%;\r\n    background-color: ${props => props.color};\r\n`;\r\n\r\nconst ProductSize = styled.span``;\r\n\r\nconst PriceDetail = styled.div`\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nconst ProductAmountContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n`;\r\n\r\nconst Icon = styled.div`\r\n    cursor: pointer;\r\n`;\r\n\r\nconst ProductAmount = styled.div`\r\n    font-size: 24px;\r\n    margin: 5px;\r\n    ${mobile({ margin: \"5px 15px\"})}\r\n`;\r\n\r\nconst ProductPrice = styled.div`\r\n    font-size: 30px;\r\n    font-weight: 200;\r\n    ${mobile({ marginBottom: \"15px\"})}\r\n`;\r\n\r\nconst Hr = styled.hr`\r\n    background-color: #eee;\r\n    border: none;\r\n    height: 1px;\r\n`;\r\n\r\nconst Summary = styled.div`\r\n    flex: 1;\r\n    border: 0.5px solid lightgray; \r\n    border-radius: 10px;\r\n    padding: 20px;\r\n    height: 50vh;\r\n`;\r\n\r\nconst SummaryTitle = styled.h1`\r\n    font-weight: 200;\r\n`;\r\nconst SummaryItem = styled.div`\r\n    margin: 30px 0px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    font-weight: ${props => props.type === \"total\" && \"500\"};\r\n    font-size: ${props => props.type === \"total\" && \"24px\"};\r\n`;\r\n\r\nconst SummaryItemText = styled.span``;\r\n\r\nconst SummaryItemPrice = styled.span``;\r\n\r\nconst Button = styled.button`\r\n    cursor: pointer;\r\n    width: 100%;\r\n    padding: 10px;\r\n    background-color: black;\r\n    color: white;\r\n    font-weight: 600;\r\n`;\r\n\r\nconst Cart = () => {\r\n    const cart = useSelector(state => state.cart);\r\n    const [stripeToken, setStripeToken] = useState(null);\r\n    const history = useHistory();\r\n    const quantity = useSelector(state => state.cart.quantity);\r\n    const [product, setProduct] = useState({});\r\n   \r\n\r\n    const onToken = (token) => {\r\n        setStripeToken(token);\r\n    };\r\n    \r\n    useEffect(() => {\r\n        const makeRequest = async () => {\r\n          try {\r\n            const res = await userRequest.post(\"/checkout/payment\", {\r\n              tokenId: stripeToken.id,\r\n              amount: 500,\r\n            });\r\n            history.push(\"/success\", {\r\n              stripeData: res.data,\r\n              products: cart, });\r\n          } catch {}\r\n        };\r\n        stripeToken && makeRequest();\r\n      }, [stripeToken, cart.total, history]);\r\n\r\n    return (\r\n        <Container>\r\n            <Navbar/>\r\n            <Announcement/>\r\n            <Wrapper>\r\n                <Title>YOUR BAG</Title>\r\n                <Top>\r\n                    <Link link to =\"/\">\r\n                            <TopButton>CONTINUE SHOPPING</TopButton>\r\n                    </Link>\r\n                    <TopTexts>\r\n                        <TopText>Shopping Bag ({quantity})</TopText>\r\n                        <TopText>Your Wish List (0)</TopText>\r\n                    </TopTexts>\r\n                    <StripeCheckout\r\n                        name=\"Dressemir\"\r\n                        image=\"https://www.clipartmax.com/png/middle/274-2745566_image-jacket-clipart-transparent-background.png\"\r\n                        billingAddress\r\n                        shippingAddress\r\n                        description={`Your total is $${cart.total}`}\r\n                        amount={cart.total*100}\r\n                        token={onToken}\r\n                        stripeKey= \"pk_test_51K4wKHHYFW1OSpjXbRrXhm89TET1tapEOgsqKWRfEDMiVmo4TYRKDz2TTm6YrepOKMhajN7YCTlyAwjjD9TRjLMS00pwMMzpjI\"\r\n                    >\r\n                        <TopButton type=\"filled\">CHECKOUT NOW</TopButton>\r\n                    </StripeCheckout>                        \r\n                </Top>\r\n                <Bottom>\r\n                    <Info>\r\n                        {cart.products.map((product) => (\r\n                            <Product>\r\n                                <ProductDetail>\r\n                                    <Image src = {product.img} />\r\n                                    <Details>\r\n                                        <ProductName><b>Product:</b> {product.title} </ProductName>\r\n                                        <ProductID><b>ID:</b> {product._id} </ProductID>\r\n                                        <ProductColor color= {product.color} />\r\n                                        <ProductSize><b>Size:</b> {product.size} </ProductSize>\r\n                                    </Details>\r\n                                </ProductDetail>\r\n                                <PriceDetail>\r\n                                    <ProductAmountContainer>\r\n                                        <Icon>\r\n                                            <Remove />\r\n                                        </Icon>                               \r\n                                        <ProductAmount>{product.quantity}</ProductAmount>\r\n                                        <Icon>\r\n                                            <Add />\r\n                                        </Icon>\r\n                                    </ProductAmountContainer>\r\n                                    <ProductPrice>$ {product.price * product.quantity} </ProductPrice>\r\n                                </PriceDetail>\r\n                            </Product>\r\n                        ))}\r\n                        <Hr/>\r\n                    </Info>\r\n                    <Summary>\r\n                        <SummaryTitle> ORDER SUMMARY</SummaryTitle>\r\n                        <SummaryItem>\r\n                            <SummaryItemText>Subtotal</SummaryItemText>\r\n                            <SummaryItemPrice>$ {cart.total}</SummaryItemPrice>\r\n                        </SummaryItem>\r\n                        <SummaryItem>\r\n                            <SummaryItemText>Estimate Shipping</SummaryItemText>\r\n                            <SummaryItemPrice>$ 5.99</SummaryItemPrice>\r\n                        </SummaryItem>\r\n                        <SummaryItem>\r\n                            <SummaryItemText>Shipping Discount</SummaryItemText>\r\n                            <SummaryItemPrice>-$ 5.99</SummaryItemPrice>\r\n                        </SummaryItem>\r\n                        <SummaryItem type=\"total\">\r\n                            <SummaryItemText>Total</SummaryItemText>\r\n                            <SummaryItemPrice>$ {cart.total}</SummaryItemPrice>\r\n                        </SummaryItem>\r\n                        <StripeCheckout\r\n                            name=\"Dressemir\"\r\n                            image=\"https://www.clipartmax.com/png/middle/274-2745566_image-jacket-clipart-transparent-background.png\"\r\n                            billingAddress\r\n                            shippingAddress\r\n                            description={`Your total is $${cart.total}`}\r\n                            amount={cart.total*100}\r\n                            token={onToken}\r\n                            stripeKey= \"pk_test_51K4wKHHYFW1OSpjXbRrXhm89TET1tapEOgsqKWRfEDMiVmo4TYRKDz2TTm6YrepOKMhajN7YCTlyAwjjD9TRjLMS00pwMMzpjI\"\r\n                        >\r\n                            <Button>CHECKOUT NOW</Button>\r\n                        </StripeCheckout>\r\n                    </Summary>\r\n                </Bottom>\r\n            </Wrapper>\r\n            <Footer/>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Cart;\r\n"]},"metadata":{},"sourceType":"module"}